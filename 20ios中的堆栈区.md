#iOS中的堆栈区

程序在系统中运行所需要的空间并不是统一的，而是在内存中不同的区域，不同区域对内存空间的管理是不同的，因而需要明确不同的数据各自的内存管理方式。

###内存区域
iOS中系统内存区域主要分为以下五个区域，栈区、堆区、BSS段、数据区以及代码段，见下图。
<div align="center">
<img src = "assets/pic20-1.png" width="400" height="360"</>
</div>

- 栈区

  由系统分配内存并对内存进行管理，是一种先进后出向低地址扩展的数据结构，也就是说栈顶的地址和栈的最大容量是由系统预先设定好了的（1M或2M），是一块连续的内存区域，用于存储局部变量。
  
 - 栈区特点：
 
    优点：快速高效，开发人员无需关注其内存的释放；
 
    缺点：数据有限制且不够灵活。
 
 - 栈空间分配方式：
 
    静态分配：由编译器完成，比如auto类型变量的分配；
  
    动态分配：由alloc完成，当与堆区的动态分配不同仍由系统自动管理。

- 堆区 

  是一种向高地址扩展的，不连续的数据区域。堆最大可达计算器虚拟内存的大小。由开发者进行空间的申请和释放，如不进行释放会造成内存泄漏。
  
 - 堆区特点：

    优点：获得空间灵活，分配内存较大；
  
    缺点：容易造成碎片(试想在1-4、7-10都申请了内存，而我要申请8字节的大小的      
         内存其中5-8的内存相对来说就成了碎片，只得到其他地址申请4字节的内  
         存)，效率降低。
